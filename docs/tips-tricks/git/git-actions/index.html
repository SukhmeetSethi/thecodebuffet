<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Z64B8KYMFN"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-Z64B8KYMFN",{anonymize_ip:!0})</script><title data-react-helmet="true">My deployment journey | We all learn from Experience</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://thecodebuffet.com/docs/tips-tricks/git/git-actions"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="My deployment journey | We all learn from Experience"><meta data-react-helmet="true" name="description" content="It all started when I was looking to build CI-CD for this website thecodebuffet.com. My docusaurus application was working in local and now I was looking to find the best solution for deploying it in public domain. There were couple of decision I had to take now:"><meta data-react-helmet="true" property="og:description" content="It all started when I was looking to build CI-CD for this website thecodebuffet.com. My docusaurus application was working in local and now I was looking to find the best solution for deploying it in public domain. There were couple of decision I had to take now:"><link data-react-helmet="true" rel="shortcut icon" href="/img/tcb.png"><link data-react-helmet="true" rel="canonical" href="https://thecodebuffet.com/docs/tips-tricks/git/git-actions"><link data-react-helmet="true" rel="alternate" href="https://thecodebuffet.com/docs/tips-tricks/git/git-actions" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://thecodebuffet.com/docs/tips-tricks/git/git-actions" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.830e11eb.css">
<link rel="preload" href="/assets/js/runtime~main.a658e9f2.js" as="script">
<link rel="preload" href="/assets/js/main.80ed24ba.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo-long-bold.png" alt="theCodeBuffet" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/img/logo-long-bold.png" alt="theCodeBuffet" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><b class="navbar__title"></b></a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link">Tips &amp; Tricks</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/tips-tricks/git/git-alias">Git</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/about-me/about-me">About me</a><div class="react-toggle toggle_2i4l react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_iYfV">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_iYfV">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button class="clean-btn backToTopButton_i9tI" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh menuWithAnnouncementBar_+O1J"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Git</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tips-tricks/git/git-alias">Git Aliases</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/tips-tricks/git/git-actions">Git Pages &amp; Actions</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>My deployment journey</h1></header><p>It all started when I was looking to build CI-CD for this website thecodebuffet.com. My docusaurus application was working in local and now I was looking to find the best solution for deploying it in public domain. There were couple of decision I had to take now:</p><ul><li>What is going to be my deployment platform</li><li>How can I automate my deployments</li></ul><p>Let me share my thought process and my end state solution:</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="deployment-platform---github-pages"></a>Deployment Platform - Github Pages<a class="hash-link" href="#deployment-platform---github-pages" title="Direct link to heading">#</a></h2><p>I started to look around for what could be the cheapest and most convenient way of deploying my website. Just to put things in perspective, my Docusaurus website is built over react framework, so it is single page application but not a static website. What it means that it has to be built before it can be deployed.</p><p>Now having worked a lot with AWS, my first inclination was to use AWS for deployment. I was thinking of few options there :</p><ul><li>Get a small EC2 machine and deploy application there</li><li>Containerize the app and deploy in ECS or EKS</li><li>Deploy in s3 with Cloudfront CDN</li></ul><p>The third option is what I was leaning towards before a thought came to my mind that do I really need to make it so complex. Are there options to may be host my website for free. I was aware that I can do it free on heroku but there are restrictions which I didn&#x27;t like. So I started what we all do.. GOOGLING and I stumbled upon an option of using Github pages for free. I liked the option of exposing my application directly from Github for free but still wasn&#x27;t too sure that is the best option. The reasons I was doubtful were again few limits and guidance on usage.</p><ul><li><em>Prohibited usage</em> : Github prohibits usage of Github Pages for any online business, e-commerce or any website which trying to make money. </li><li><em>Usage Limits</em> : There are few limits to the size of the source code which should be no more than 1GB as well as there is a soft bandwidth limit of 100GB/month</li><li><em>Public repo</em> : It only allows public repositories to use it for free but for private ones, you need a pro account.</li></ul><p>Looking at what I was trying to do is to expose a simple knowledge site which will take ages to get to 1 GB and I wanted to keep it public anyways. So all my checkboxes were ticked in a way and I decided to give it a shot. If it doesn&#x27;t work for some reason, my AWS option 3 was always open.</p><p>Now that I decided on deployment platform, my next challenge was how to automate deployments to Github pages.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_y2LR" id="cicd--github-actions"></a>CI/CD : Github Actions<a class="hash-link" href="#cicd--github-actions" title="Direct link to heading">#</a></h2><p>Before I zeroed down on Github Pages and while I was thinking of AWS, there was a parallel thought which was bothering me. That was around my deployment automations. So I was thinking that if go AWS way I would need a tool through which I can create a deployment pipleline as well as to setup my infra. I have used both CloudFormation and Terraform for provisioning infrastructure but the missing piece was that platform on which this pipelines of provisioning + deployment should execute on.</p><p>I had extensive experience with Gitlab and Jenkins but for both of them I need some infrastructure to work as Gitlab runner or to host the Jenkins as a tool. Like I mentioned above, I was hesitating to create and maintaining environment to run my CI/CD. So I started looking into SaaS offerings the first thought was to use AWS codepipeline but I have worked with it before and I never liked it. There were couple more which were in my radar like CircleCI and Codeship but they offer very limited features with free version.</p><p>And that&#x27;s where I also found an option of using Github Actions. It immedeately sounded like a perfect solution as an all Github ecosystem cuts down lot of complexity around maintainance and obviously cost. Just going through couple of blog, it reaffirmed that the integration with Github pages is quite simple and straightforward. It is important to highlight some limitations though as long as free plan is concerned:</p><ul><li>It allows 2000 automation minutes/month</li><li>Package storage limit is 500MB</li><li>Only supports Windows, Ubuntu and Mac as operating system</li></ul><p>All these limits were quite adequate for me as I am going to publish few articles every month which are never going to hit limits of 2000 minutes. Package size like I mentioned earlier is quite small (just few MBs) and I was all fine to use Ubuntu as OS. So again all boxes ticked. </p><p>One more thing which I liked when I started learning about Github actions, it&#x27;s approach and somewhat syntax was similar to Gitlab which I was already comfortable with, so it didn&#x27;t took me much time to configure my pipeline. There are also many pre-created templates which you can start your pipeline with and modify as per your need.</p><p>Here is how thecodebuffet.com pipeline works with Github actions <a href="https://github.com/SukhmeetSethi/thecodebuffet/blob/master/.github/workflows/ci.yml" target="_blank" rel="noopener noreferrer">https://github.com/SukhmeetSethi/thecodebuffet/blob/master/.github/workflows/ci.yml</a></p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>Docusaurus provides out of the box support to deploy in Github pages through gh-pages plugin but in case you are creating your own site, you can add gh-pages node plugin.</p></div></div><p>Don&#x27;t want to recreate what is already there, so please follow this tutorial to deploy your react app in github pages using github actions: <a href="https://dev.to/achukka/deploy-react-app-using-github-actions-157d" target="_blank" rel="noopener noreferrer">https://dev.to/achukka/deploy-react-app-using-github-actions-157d</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/SukhmeetSethi/thecodebuffet/docs/tips-tricks/git/git-actions.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/tips-tricks/git/git-alias"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Git Aliases</div></a></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#deployment-platform---github-pages" class="table-of-contents__link">Deployment Platform - Github Pages</a></li><li><a href="#cicd--github-actions" class="table-of-contents__link">CI/CD : Github Actions</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://www.youtube.com/channel/UCJSM5lTp_WKfyhMQeEGBT4w" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Youtube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://stackoverflow.com/users/7364381/sukhmeet-sethi" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stackoverflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 theCodeBuffet</div></div></div></footer></div>
<script src="/assets/js/runtime~main.a658e9f2.js"></script>
<script src="/assets/js/main.80ed24ba.js"></script>
</body>
</html>